/*! Vue Bing Maps v0.0.6, hash:e3b75babdaf60c8a6ffd.  Created by Kenneth Sullivan. License MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueBingMaps=t():e.VueBingMaps=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./dist",n(n.s=6)}([function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var o=n(2),i=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function a(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(e){return void u(t.promise,e)}c(t.promise,o)}else(1===e._state?c:u)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof l)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void p((o=n,i=t,function(){o.apply(i,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){u(e,t)}var o,i}function u(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var n=new this.constructor(a);return s(this,new f(e,t,n)),n},l.prototype.finally=o.a,l.all=function(e){return new l((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var l=r.then;if("function"==typeof l)return void l.call(r,(function(t){a(e,t)}),n)}o[e]=r,0==--i&&t(o)}catch(e){n(e)}}for(var l=0;l<o.length;l++)a(l,o[l])}))},l.resolve=function(e){return e&&"object"==typeof e&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,n){n(e)}))},l.race=function(e){return new l((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var o=0,i=e.length;o<i;o++)l.resolve(e[o]).then(t,n)}))},l._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=l}).call(this,n(3).setImmediate)},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t,n){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(4),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var o,i,r,a,l,s=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){m(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){m(e.data)},o=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,o=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",l=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",l,!1):e.attachEvent("onmessage",l),o=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[s]=i,o(s),s++},f.clearImmediate=p}function p(e){delete c[e]}function m(e){if(u)setTimeout(m,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(n,o)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(0),n(5))},function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s,c=[],u=!1,d=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=l(f);u=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||u||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var o=n(1),i={apiUrl:"https://www.bing.com/api/maps/mapcontrol?callback={callback}&key={credentials}",apiKey:null,defaultMapOptions:null,debug:!1},r={loadedModules:[],deepClone:function(e){return JSON.parse(JSON.stringify(e))},logger:{log:function(){i.debug&&console.log.apply(null,Array.prototype.slice.call(arguments,0))},info:function(){i.debug&&console.info.apply(null,Array.prototype.slice.call(arguments,0))},warn:function(){i.debug&&console.warn.apply(null,Array.prototype.slice.call(arguments,0))},debug:function(){i.debug&&console.debug.apply(null,Array.prototype.slice.call(arguments,0))},error:function(){i.debug&&console.error.apply(null,Array.prototype.slice.call(arguments,0))}}},a={toMapLocation:function(e){return e?new Microsoft.Maps.Location(e.latitude,e.longitude):null},toMapPoint:function(e){return e?new Microsoft.Maps.Point(e.x,e.y):null},toMapTypeId:function(e){return e?Array.isArray(e)?e.map((function(e){return Microsoft.Maps.MapTypeId[e]})):Microsoft.Maps.MapTypeId[e]:null},toNavigationBarOrientation:function(e){return e?Microsoft.Maps.NavigationBarOrientation[e]:null}};function l(e,t,n,o,i,r,a,l){var s,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=s):i&&(s=l?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var u=c.render;c.render=function(e,t){return s.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,s):[s]}return{exports:e,options:c}}var s=l({data:()=>({__item:null,__itemHandlers:[],itemType:null,initialized:!1,allowedEvents:[]}),computed:{},methods:{getItem(){return this.__item},setItem(e){return this.__item=e,e},getAttachedEventListeners(){let e=this.$listeners||{},t=this.itemType+"-",n=[];for(var o in e)e.hasOwnProperty(o)&&n.push(o.replace(t,""));return n},registerEvents(){let e=this,t=this.itemType,n=e.getAttachedEventListeners(),o=function(e){return r.logger.log(e),{meta:e.primitive&&e.primitive.metadata,x:"function"==typeof e.getX?e.getX():null,y:"function"==typeof e.getY?e.getY():null,pageX:e.pageX,pageY:e.pageY,point:e.point,location:e.location,targetType:e.targetType}};return e.__itemHandlers||(e.__itemHandlers=[]),new Promise((i,a)=>{let l=e.getItem();e.allowedEvents.reduce((function(e,i){return n.filter((function(e){return e===i||e&&e.name===i})).forEach((function(n){var a=typeof n;"undefined"===a?r.logger.log("no user-defined "+t+" event handler for event: "+i):"string"===a?(r.logger.log("setting up default handler for "+t+" event: "+n),e.push({name:i,transform:o,delay:0,once:!1})):"object"===a?e.push({name:i,transform:n.transform,delay:n.delay||0,once:n.once||!1}):r.logger.warn("unknown "+t+" event handler type: ",n)})),e}),[]).forEach(t=>{var n,o=function(n){var o=t.transform(n);e.$emit(e.itemType+"-"+t.name,r.deepClone(o))};!0===t.once?Microsoft.Maps.Events.addOne(l,t.name,o):n=t.delay>0?Microsoft.Maps.Events.addThrottledHandler(l,t.name,o,t.delay):Microsoft.Maps.Events.addHandler(l,t.name,o),n&&e.__itemHandlers.push(n)}),i(l)})},unRegisterEvents(){let e=this;return new Promise((t,n)=>{let o=e.__itemHandlers||[];for(;o.length;){var i=o.pop();Microsoft.Maps.Events.removeHandler(i)}t()})}}},void 0,void 0,!1,null,null,null).exports;const c=Object.freeze(["click","dblclick","mapresize","maptypechanged","mousedown","mousemove","mouseout","mouseover","mouseup","mousewheel","rightclick","viewchange","viewchangeend","viewchangestart"]);var u=l({name:"bing-map",mixins:[s],props:{apiKey:{type:String,default:null},options:{type:Object,required:!1,default:()=>({})}},data:()=>({itemType:"map",rendering:!1,apiLoaded:!1,allowedEvents:c}),computed:{mapOptions(){if(!this.apiLoaded)return{};let e=Object.assign({},i.defaultMapOptions,this.options),t={};for(var n in e)if(e.hasOwnProperty(n))switch(n){case"navigationBarOrientation":t[n]=a.toNavigationBarOrientation(e[n]);break;case"mapTypeId":case"supportedMapTypes":t[n]=a.toMapTypeId(e[n]);break;default:t[n]=e[n]}return t}},provide(){return{getMap:this.getItem,loadModule:this.loadModule}},methods:{libLoaded:()=>!!(window.Microsoft&&window.Microsoft.Maps&&window.Microsoft.Maps.Map),getInitCallbackFnName(){return"mapInitializeCallback_"+this._uid},getMapApiUrl(){return i.apiUrl.replace("{callback}",this.getInitCallbackFnName()).replace("{credentials}",this.apiKey||i.apiKey)},loadApi(){let e=this;return r.logger.log("loading api..."),new Promise((t,n)=>{if(e.libLoaded())r.logger.log("api already loaded!"),e.apiLoaded=!0,t();else{r.logger.log("setting map init callback"),window[e.getInitCallbackFnName()]=function(){r.logger.log("map init callback: ",e.getInitCallbackFnName()),delete window[e.getInitCallbackFnName()],e.apiLoaded=!0,t()},r.logger.log("adding bing api to document head url: ",e.getMapApiUrl());let o=document.createElement("script");o.type="text/javascript",o.src=e.getMapApiUrl(),o.async=!0,o.defer=!0,o.onerror=function(t){delete window[e.getInitCallbackFnName()],n(t)},document.head.append(o)}})},loadModule(e){let t=this,n=(e||"").toLowerCase().trim();return new Promise((o,i)=>{n?t.libLoaded()?r.loadedModules.indexOf(n)>-1?(r.logger.log("Map module "+n+" already loaded, resolving..."),o()):Microsoft.Maps.loadModule(e,{callback(){r.logger.log("Map module "+n+" successfully loaded!"),r.loadedModules.push(n),o()},errorCallback(e){r.logger.warn("Map module "+n+" loading failed!"),i(e)}}):i("This function can only be called after the Bing Map library has been loaded"):i("A module name must be specified")})},draw(){this.render()},render(){let e=this;return new Promise((t,n)=>{e.rendering=this;let o=e.getItem();o&&e.destroy(),Promise.all([e.loadApi(),e.$nextTick()]).then(()=>{o=e.setItem(new Microsoft.Maps.Map(e.$refs.mapContainer,e.mapOptions)),Microsoft.Maps.Events.addOne(o,"viewchangeend",()=>{e.initialized=!0}),t()}).catch((function(e){n(e)})).finally(()=>{e.rendering=!1})})},destroy(){this.initialized=!1;let e=this.getItem();e&&"function"==typeof e.dispose&&(e.dispose(),this.setItem(null))}},mounted(){r.logger.log("mounted lifecycle hook, rendering map..."),this.draw()},beforeDestroy(){r.logger.log("beforeDestroy lifecycle hook, destroying map...");let e=this;e.destroying=!0,e.unRegisterEvents().then(e.destroy).finally(()=>{e.destroying=!1})},activated(){r.logger.log("map activated lifecycle hook, checking criteria for rendering map..."),this.rendering||this.getItem()?r.logger.log("map component activated from initial mounted stated, no action performed here since already performed in mounted hook"):(r.logger.log("map component activated from deactivated state, rendering map..."),this.draw())},deactivated(){r.logger.log("deactivated lifecyle hook, destroying map..."),this.unRegisterEvents().then(this.destroy)}},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"mapContainer"},[t("div",{staticStyle:{display:"none"}},[this.initialized?this._t("default"):this._e()],2)])}),[],!1,null,null,null).exports;const d=Object.freeze(["click","dblclick","mousedown","mouseover","mouseout","mouseup","rightclick"]);var f=l({name:"bing-map-layer",mixins:[s],props:{name:{type:String,required:!1,default(){return"layer-"+this._uid}},visible:{type:Boolean,required:!1,default:()=>!0},zIndex:{type:Number,required:!1,default:()=>0}},data:()=>({itemType:"layer",allowedEvents:d}),watch:{visible(e){let t=this.getItem();t&&t.setVisible(e)},zIndex(e){let t=this.getItem();t&&t.setZIndex(e)}},inject:["getMap"],provide(){return{getLayer:this.getItem}},methods:{render(){let e=this.getItem(),t=this.getMap();t?(e&&(r.logger.log("layer "+this.name+" already exists, destroying previous instance..."),this.destroy()),r.logger.log("creating new layer: "+this.name),(e=this.setItem(new Microsoft.Maps.Layer(this.name))).setVisible(this.visible),this.zIndex&&e.setZIndex(this.zIndex),r.logger.log("adding layer: "+this.name+" to map..."),t.layers.insert(e),this.initialized=!0):r.logger.error("layer render error: map not found!")},destroy(){let e=this.getItem();try{if(e){let t=this.getMap();t&&t.layers.remove(e),"function"==typeof e.dispose&&(r.logger.log("disposing layer "+this.name+"..."),e.dispose())}}finally{this.setItem(null)}}},mounted(){r.logger.log("mounted lifecycle hook, rendering layer"+this.name+"..."),this.render(),this.registerEvents()},beforeDestroy(){r.logger.log("beforeDestroy lifecycle hook, destroying layer "+this.name+"..."),this.destroy()}},(function(){var e=this.$createElement;return(this._self._c||e)("div",[this.initialized?this._t("default"):this._e()],2)}),[],!1,null,null,null).exports;const p=Object.freeze(["changed","click","dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"]);var m=l({name:"bing-map-pushpin",mixins:[s],props:{options:{type:Object,required:!1,default:()=>{}},metadata:{type:Object,required:!1,default:()=>null},location:{type:Object,required:!0,validator:e=>e&&"number"==typeof e.latitude&&"number"==typeof e.longitude}},data:()=>({itemType:"push-pin",initialized:!0,allowedEvents:p}),computed:{innerOptions(){let e=this.options,t={};for(var n in e)if(e.hasOwnProperty(n))switch(n){case"anchor":case"textOffset":t[n]=a.toMapPoint(e[n]);break;default:t[n]=r.deepClone(e[n])}return t}},watch:{metadata:{deep:!0,handler(e){let t=this.getItem();t&&(t.metadata=r.deepClone(e))}},location(e){let t=this.getItem();t&&t.setLocation(a.toMapLocation(e))},innerOptions(e){let t=this.getItem();t&&t.setOptions(e)}},inject:["getLayer"],methods:{hasIconTemplate(){return!!(this.$slots&&this.$slots.default&&this.$slots.default.length)},render(){let e=this.getLayer(),t=this.getItem();if(e){t&&this.destroy();let n=r.deepClone(this.innerOptions);(t=this.setItem(new Microsoft.Maps.Pushpin(a.toMapLocation(this.location),n))).metadata=r.deepClone(this.metadata),this.updateIcon(),e.add(t)}else r.logger.error("push-pin render error: layer not found!")},updateIcon(){if(this.hasIconTemplate()){let e=this.getItem();if(e){let t=this.$refs.pinTemplate.innerHTML;e.setOptions({icon:t})}}},destroy(){let e=this.getItem();try{if(e){let t=this.getLayer();t&&t.remove(e)}}finally{this.setItem(null)}}},mounted(){r.logger.log("mounted lifecycle hook, rendering push-pin"+this._uid+"..."),this.render()},beforeUpdate(){r.logger.log("beforeUpdate lifecycle hook, pin "+this._uid)},updated(){r.logger.log("updated lifecycle hook, pin "+this._uid+" updating icon..."),this.updateIcon()},beforeDestroy(){r.logger.log("beforeDestroy lifecycle hook, destroying push-pin "+this._uid+"..."),this.destroy()}},(function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"pinTemplate"},[this.initialized?this._t("default",null,{metadata:this.metadata}):this._e()],2)}),[],!1,null,null,null).exports;const h=Object.freeze(["click","infoboxChanged","mouseenter","mouseleave"]);var g=l({name:"bing-map-infobox",mixins:[s],props:{options:{required:!1,type:Object,default:()=>{}}},data:()=>({itemType:"infobox",allowedEvents:h}),inject:["getMap"],watch:{options(e){let t=this.getItem();if(t){let n=this.convertOptions(e||{});t.setOptions(n)}}},methods:{hasHtmlTemplate(){return!!(this.$slots&&this.$slots.default&&this.$slots.default.length)},convertOptions(e){let t=(e?r.deepClone(e):r.deepClone(this.options))||{};for(var n in t)if(t.hasOwnProperty(n))switch(n){case"location":"object"==typeof t.location&&(t.location=a.toMapLocation(t.location));break;case"offset":"object"==typeof t.offset&&(t.offset=a.toMapPoint(t.offset))}return t},setCustomHtml(){if(this.hasHtmlTemplate()){let e=this.getItem();if(e){let t=this.$refs.infoboxContainer.innerHTML;e.setHtmlContent(t)}}},render(){let e=this.getMap(),t=this.getItem();if(e){t&&this.destroy();let n=this.convertOptions(),o=n&&n.location;"object"!=typeof o&&(o=e.getCenter(),n.location=o,n.visible=!1),t=this.setItem(new Microsoft.Maps.Infobox(o,n)),this.setCustomHtml(),t.setMap(e)}else r.logger.error("infobox render error: map not found!")},destroy(){let e=this.getItem();try{if(e){this.getMap()&&e.setMap(null)}}finally{this.setItem(null)}}},mounted(){r.logger.log("mounted lifecycle hook, rendering infobox"+this._uid+"..."),this.render()},updated(){r.logger.log("updated lifecycle hook, infobox "+this._uid+" updating infobox HTML..."),this.setCustomHtml()},beforeDestroy(){r.logger.log("beforeDestroy lifecycle hook, destroying infobox "+this._uid+"..."),this.destroy()}},(function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"infoboxContainer"},[this._t("default")],2)}),[],!1,null,null,null).exports;window.Promise||(window.Promise=o.a);t.default={mixins:{componentBase:s},components:{map:u,layer:f,pushpin:m,infobox:g},services:{conversions:a},install(e,t){t&&Object.assign(i,t),r.logger.log("registering bing-map component..."),e.component(u.name,e.extend(u)),r.logger.log("registering bing-map-layer component..."),e.component(f.name,e.extend(f)),r.logger.log("registering bing-map-pushpin component..."),e.component(m.name,e.extend(m)),r.logger.log("registering bing-map-infobox component..."),e.component(g.name,e.extend(g)),r.logger.log("bing map vue plugin installed!")}}}])}));